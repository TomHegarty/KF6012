(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),i=a.n(s),r=a(21),c=a.n(r),o=(a(42),a(12)),l=a(6),d=(a(43),a(2)),h=a(3),u=a(11),p=a(5),j=a(4),b=a(22),O=a.n(b),m=a(24),g=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleLightDark=function(){"Dark Mode"==n.state.value?(n.setState({value:"Light Mode"}),document.documentElement.style.setProperty("--background-color","#333333"),document.documentElement.style.setProperty("--main-color-1","#f3f3f3")):(n.setState({value:"Dark Mode"}),document.documentElement.style.setProperty("--background-color","white"),document.documentElement.style.setProperty("--main-color-1","black"))},n.state={isDesktop:!1,value:"Dark Mode",menuOpen:"\u2630"},n.updatePredicate=n.updatePredicate.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.updatePredicate(),window.addEventListener("resize",this.updatePredicate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updatePredicate)}},{key:"updatePredicate",value:function(){this.setState({isDesktop:window.innerWidth>1031})}},{key:"render",value:function(){var e=this.state.isDesktop;return Object(n.jsx)("div",{children:e?Object(n.jsx)("div",{className:"NavMenu",children:Object(n.jsxs)("ul",{className:"NavContain",children:[Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/",exact:!0,activeClassName:"activeLink",children:"Schedule"})}),Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/authors",exact:!0,activeClassName:"activeLink",children:"Authors"})}),Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/admin",exact:!0,activeClassName:"activeLink",children:"Admin"})}),Object(n.jsx)("button",{onClick:this.handleLightDark,children:this.state.value})]})}):Object(n.jsx)("div",{className:"NavMenu",children:Object(n.jsx)(O.a,{trigger:Object(n.jsx)(m.a,{size:25,hideOutline:!0}),children:Object(n.jsxs)("ul",{className:"NavContain",children:[Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/",exact:!0,activeClassName:"activeLink",children:"Schedule"})}),Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/authors",exact:!0,activeClassName:"activeLink",children:"Authors"})}),Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/admin",exact:!0,activeClassName:"activeLink",children:"Admin"})}),Object(n.jsx)("button",{onClick:this.handleLightDark,children:this.state.value})]})})})})}}]),a}(i.a.Component),x=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={further:!1},e}return Object(h.a)(a,[{key:"render",value:function(){return 0==this.props.details.startMinute&&(this.props.details.startMinute=("0"+this.props.details.startMinute).slice(-2)),Object(n.jsx)("div",{className:"paperDisplay",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Title:"})," ",this.props.details.title,Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"Start Time: "}),this.props.details.startHour,":",this.props.details.startMinute,Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"Room: "})," ",this.props.details.roomName,Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"Awards: "}),this.props.details.award.toLowerCase().replace("_"," ")]})})}}]),a}(i.a.Component),f=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={display:!1,data:[]},e.loadDetails=function(){var t="http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/authorContent?id="+e.props.details.authorId;fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({data:t.data})})).catch((function(e){console.log("something went wrong ",e)}))},e.handleDetailsClick=function(){e.setState({display:!e.state.display}),e.loadDetails()},e}return Object(h.a)(a,[{key:"render",value:function(){var e="",t="Show Papers \u25b2",a="";return this.state.display&&(a=this.state.data.map((function(e,t){return Object(n.jsx)(x,{details:e},t)}))),this.state.display?(e=Object(n.jsxs)("div",{className:"papersDisplayBox",children:[Object(n.jsx)("p",{children:this.state.data.title}),a]}),t="Hide Papers \u25b2"):t="Show Papers \u25bc",Object(n.jsxs)("div",{className:"author",children:[Object(n.jsxs)("h2",{children:[" ",Object(n.jsx)("span",{className:"underline",children:this.props.details.name})]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:" Institution:"})," ",this.props.details.authorInst]}),Object(n.jsx)("button",{id:"detailsButton",onClick:this.handleDetailsClick,children:t}),e]})}}]),a}(i.a.Component),v=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"searchBar",children:[Object(n.jsx)("p",{className:"SearchText",children:"Search: "}),Object(n.jsx)("input",{id:"AuthorSearchInput",className:"searchInput",type:"text",placeholder:"search"}),Object(n.jsx)("button",{id:"AuthorSearchButton",onClick:this.props.handleSearch,children:" Search "})]})}}]),a}(i.a.Component),S=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"awardSearch",children:Object(n.jsxs)("label",{children:["Filter by Award :",Object(n.jsxs)("select",{id:"AuthorAwardInput",className:"dropMenu",value:this.props.award,onChange:this.props.handleAwardSelect,children:[Object(n.jsx)("option",{value:"",children:"Any"}),Object(n.jsx)("option",{value:"HONORABLE_MENTION",children:"Honorable Mentions"}),Object(n.jsx)("option",{value:"BEST_PAPER",children:"Best Papers"})]})]})})}}]),a}(i.a.Component),w=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return this.props.loader?Object(n.jsx)("div",{className:"loader"}):""}}]),a}(i.a.Component),y=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"pageButtons",children:[Object(n.jsx)("button",{onClick:this.props.handlePreviousClick,disabled:this.props.disabledPrevious,children:"\u25c0 Previous"}),Object(n.jsxs)("p",{children:["Page ",this.props.page," ",this.props.noOfPages]}),Object(n.jsx)("button",{onClick:this.props.handleNextClick,disabled:this.props.disabledNext,children:"Next \u25b6"})]})}}]),a}(i.a.Component),k=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"footer",children:Object(n.jsxs)("p",{children:["This app is university coursework and has no association with CHI, ACM or any of their sponsors.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Tom Hegarty",Object(n.jsx)("br",{}),"2020",Object(n.jsx)("br",{}),"Northumbria University Newcastle",Object(n.jsx)("br",{})," KF6012",Object(n.jsx)("br",{}),"Web Application Integration",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{href:"http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/about/",children:"API part 1"})]})})}}]),a}(i.a.Component),C=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleMoreClick=function(){n.setState({page:n.state.page+1})},n.handleSearch=function(){var e=document.getElementById("AuthorSearchInput").value.toLowerCase();n.setState({query:e,page:1});var t="http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/authorPres?search="+e+"&award="+n.state.award+"&page="+n.state.page;fetch(t).then((function(e){return e.json()})).then((function(e){n.setState({data:e.data}),n.setState({loading:!1})})).catch((function(e){console.log("something went wrong ",e)}))},n.handleAwardSelect=function(){var e=document.getElementById("AuthorAwardInput").value;n.setState({award:e,page:1});var t="http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/authorPres?search="+n.state.query+"&award="+e+"&page="+n.state.page;fetch(t).then((function(e){return e.json()})).then((function(e){n.setState({data:e.data}),n.setState({loading:!1})})).catch((function(e){console.log("something went wrong ",e)}))},n.searchDetails=function(e){return e.name.toLowerCase().includes(n.state.query)},n.selectAwardDetails=function(e){return n.state.award===e.award||""===n.state.award},n.handlePreviousClick=function(){n.setState({page:n.state.page-1}),window.scrollTo(0,0);var e="http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/authorPres?search="+n.state.query+"&award="+n.state.award+"&page="+(n.state.page-1);fetch(e).then((function(e){return e.json()})).then((function(e){n.setState({data:e.data}),n.setState({loading:!1})})).catch((function(e){console.log("something went wrong ",e)}))},n.handleNextClick=function(){n.setState({page:n.state.page+1}),window.scrollTo(0,0);var e="http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/authorPres?search="+n.state.query+"&award="+n.state.award+"&page="+(n.state.page+1);fetch(e).then((function(e){return e.json()})).then((function(e){n.setState({data:e.data}),n.setState({loading:!1})})).catch((function(e){console.log("something went wrong ",e)}))},n.state={page:1,pageSize:10,query:"",award:"",loading:!0,data:[]},n.handleSearch=n.handleSearch.bind(Object(u.a)(n)),n.handleAwardSelect=n.handleAwardSelect.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/authorPres?page=1").then((function(e){return e.json()})).then((function(t){e.setState({data:t.data}),e.setState({loading:!1})})).catch((function(e){console.log("something went wrong ",e)}))}},{key:"render",value:function(){var e=this.state.page<=1,t=this.state.data.length<10;return Object(n.jsxs)("div",{className:"Authors",children:[Object(n.jsx)("h1",{children:"Authors"}),Object(n.jsxs)("div",{className:"searchMenu",children:[Object(n.jsx)(v,{handleSearch:this.handleSearch}),Object(n.jsx)(S,{value:this.state.award,handleAwardSelect:this.handleAwardSelect})]}),Object(n.jsx)(w,{loader:this.state.loading}),Object(n.jsx)("div",{className:"authorCont",children:this.state.data.map((function(e,t){return Object(n.jsx)(f,{details:e},t)}))}),Object(n.jsx)(y,{page:this.state.page,disabledPrevious:e,disabledNext:t,handleNextClick:this.handleNextClick,handlePreviousClick:this.handlePreviousClick}),Object(n.jsx)(k,{})]})}}]),a}(i.a.Component),N=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"notFoundbox",children:[Object(n.jsx)("h2",{children:"404: page not found"}),Object(n.jsx)("div",{className:"NotFoundFace",children:Object(n.jsx)("h2",{children:"\ud83d\ude25"})}),Object(n.jsx)("p",{children:Object(n.jsx)("a",{href:"http://unn-w16017590.newnumyspace.co.uk/kf6012/part2/",children:"Return to Shedule"})})]})}}]),a}(i.a.Component),P=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleDetailsClick=function(){n.setState({display:!n.state.display})},n.state={data:[],display:!1},n}return Object(h.a)(a,[{key:"render",value:function(){var e,t="",a="",s="Details \u25bc";return this.state.display?(t=Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:" Authors: "})," ",this.props.details.authors]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:" Abstract: "})," ",this.props.details.abstract]})]}),s="Hide \u25b2"):s="Details \u25bc",""!==this.props.details.award&&(a="\ud83c\udfc6 "+(e=this.props.details.award,e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))).replace("_"," ")),Object(n.jsxs)("div",{className:"presentation",children:[Object(n.jsx)("p",{children:Object(n.jsx)("b",{children:this.props.details.title})}),Object(n.jsxs)("p",{children:[" ",a]}),Object(n.jsx)("button",{onClick:this.handleDetailsClick,children:s}),t]})}}]),a}(i.a.Component),U=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handlePresentationClick=function(){n.setState({display:!n.state.display}),n.handleWidth(),n.loadPresentationDetails()},n.handleWidth=function(){},n.loadPresentationDetails=function(){var e="http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/sessionpresentations?session_id="+n.props.details.sessionId;fetch(e).then((function(e){return e.json()})).then((function(e){n.setState({data:e.data,loading:!1})})).catch((function(e){console.log("something went wrong ",e)})),!1===n.state.display?n.setState({activeWidth:"90%"}):n.setState({activeWidth:""})},n.state={data:[],display:!1,activeWidth:""},n}return Object(h.a)(a,[{key:"render",value:function(){var e="",t="Show Presentations \u25bc";return this.state.display?(e=this.state.data.map((function(e,t){return Object(n.jsx)(P,{details:e},t)})),t="Hide Presentations \u25b2"):t="Show Presentations \u25bc",Object(n.jsxs)("div",{className:"SessionsBox",style:{width:this.state.activeWidth},children:[Object(n.jsx)("b",{children:Object(n.jsx)("span",{className:"underline",children:this.props.details.name})}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Type of Session: "}),this.props.details.Type,Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"Room:"})," ",this.props.details.Room," ",Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"Session Chair:"})," ",this.props.details.Chair]}),Object(n.jsx)("button",{onClick:this.handlePresentationClick,children:t}),e]})}}]),a}(i.a.Component),A=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).loadSessionDetails=function(){var e="http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/presentations?slotid="+n.props.details.slotId;fetch(e).then((function(e){return e.json()})).then((function(e){n.setState({data:e.data,loading:!1})})).catch((function(e){console.log("something went wrong ",e)}))},n.handleSessionClick=function(){n.setState({display:!n.state.display}),n.loadSessionDetails()},n.state={data:[],display:!1},n}return Object(h.a)(a,[{key:"render",value:function(){function e(e){return 0==e?("0"+e).slice(-2):e}var t,a="",s="Show Sessions \u25bc";return this.state.display?(a=this.state.data.map((function(e,t){return Object(n.jsx)(U,{details:e},t)})),s="Hide Sessions \u25b2"):s="Show Sessions \u25bc","SESSION"===this.props.details.Type?Object(n.jsxs)("div",{className:"slot",children:[Object(n.jsx)("h2",{children:Object(n.jsxs)("span",{className:"underline",children:[this.props.details.Day," Slot ",this.props.slotCount]})}),Object(n.jsxs)("p",{children:[this.props.details.startHour,":",e(this.props.details.startMinute)," - ",this.props.details.endHour,":",e(this.props.details.endMinute)]}),Object(n.jsx)("button",{onClick:this.handleSessionClick,children:s}),Object(n.jsx)("div",{className:"sessionsCont",children:a})]}):Object(n.jsx)("div",{className:"slotBreak",children:Object(n.jsxs)("p",{children:[Object(n.jsxs)("b",{children:[(t=this.props.details.Type,t.replace(/\S*/g,(function(e){return e.charAt(0)+e.slice(1).toLowerCase()})))," : "]}),this.props.details.startHour,":",e(this.props.details.startMinute)," - ",this.props.details.endHour,":",e(this.props.details.endMinute)]})})}}]),a}(i.a.Component),D=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).loadSlotDetails=function(){var e="http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/slots?day="+n.props.dayInt;fetch(e).then((function(e){return e.json()})).then((function(e){n.setState({data:e.data,loading:!1})})).catch((function(e){console.log("something went wrong ",e)}))},n.handleSlotClick=function(){n.setState({display:!n.state.display}),n.loadSlotDetails()},n.state={data:[],display:!1,slots:"",loading:!0},n}return Object(h.a)(a,[{key:"render",value:function(){var e="",t="Show Slots \u25bc";return this.state.display?(e=this.state.data.map((function(e,t){return Object(n.jsx)(A,{details:e,slotCount:t+1},t)})),t="Hide Slots \u25b2"):t="Show Slots \u25bc",Object(n.jsxs)("div",{className:"Day",children:[Object(n.jsx)("h2",{children:this.props.day}),Object(n.jsx)("button",{id:"detailsButton",onClick:this.handleSlotClick,children:t}),Object(n.jsx)("div",{className:"slotCont",children:e})]})}}]),a}(i.a.Component),I=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"Schedule",children:[Object(n.jsx)("h1",{children:"Schedule"}),Object(n.jsx)(D,{day:"Monday",dayInt:1}),Object(n.jsx)(D,{day:"Tuesday",dayInt:2}),Object(n.jsx)(D,{day:"Wednesday",dayInt:3}),Object(n.jsx)(D,{day:"Thursday",dayInt:4}),Object(n.jsx)(k,{})]})}}]),a}(i.a.Component),E=a(15),T=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"AdminTop",children:[Object(n.jsxs)("div",{className:"LoginArea",children:[Object(n.jsx)("h3",{children:"Sign into Existing Account"}),Object(n.jsx)("input",{type:"text",placeholder:"email",value:this.props.email,onChange:this.props.handleEmail}),Object(n.jsx)("input",{type:"password",placeholder:"password",value:this.props.password,onChange:this.props.handlePassword}),Object(n.jsx)("button",{className:"loginButton",disabled:!this.props.email,onClick:this.props.handleLoginClick,children:"Log in"})]}),Object(n.jsxs)("div",{className:"SignUpArea",children:[Object(n.jsx)("h3",{children:"Create new Account"}),Object(n.jsx)("input",{type:"text",placeholder:"Enter Username",value:this.props.SignUpName,onChange:this.props.handleSignUpName}),Object(n.jsx)("input",{type:"text",placeholder:"Enter Email",value:this.props.SignUpEmail,onChange:this.props.handleSignUpEmail}),Object(n.jsx)("input",{type:"text",placeholder:"Create Password",value:this.props.SignUpPassword,onChange:this.props.handleSignUpPassword}),Object(n.jsx)("button",{className:"SignUpButton",onClick:this.props.handleSignUpClick,children:"Sign Up"})]})]})}}]),a}(i.a.Component),L=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleDescriptionChange=function(e){n.setState({newtitle:e.target.value})},n.handleDescriptionUpdate=function(){n.props.handleUpdateClick(n.props.details.sessionId,n.state.newtitle)},n.state={newtitle:""},n}return Object(h.a)(a,[{key:"render",value:function(){var e="login as admin to update records";return this.props.admin>0&&(e=Object(n.jsxs)("div",{className:"adminArea",children:[Object(n.jsx)("p",{children:"Enter New Session Title \u25bc"}),Object(n.jsx)("textarea",{rows:"3",cols:"50",placeholder:"Enter New Title Name Here",onChange:this.handleDescriptionChange}),Object(n.jsx)("button",{className:"UpdateSessionButton",onClick:this.handleDescriptionUpdate,children:"Update Title"})]})),Object(n.jsxs)("div",{className:"updateSession",children:[Object(n.jsx)("h2",{children:Object(n.jsx)("span",{className:"underline",children:this.props.details.SessionName})}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Session ID:"})," ",this.props.details.sessionId]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Session Chair:"})," ",this.props.details.SessionChair]}),e]})}}]),a}(i.a.Component),M=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"searchBar",children:[Object(n.jsx)("p",{className:"SearchText",children:"Search: "}),Object(n.jsx)("input",{className:"searchInput",type:"text",placeholder:"search",value:this.props.query,onChange:this.props.handleSearch})]})}}]),a}(i.a.Component),B=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={data:[],query:"",loading:!0,page:1,pageSize:10},e.searchTitle=function(t){return t.SessionName.toLowerCase().includes(e.state.query)},e.handleSearch=function(t){e.setState({query:t.target.value})},e.handlePreviousClick=function(){e.setState({page:e.state.page-1}),window.scrollTo(0,0)},e.handleNextClick=function(){e.setState({page:e.state.page+1}),window.scrollTo(0,0)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/sessions").then((function(e){return e.json()})).then((function(t){e.setState({data:t.data}),e.setState({loading:!1})})).catch((function(e){console.log("something went wrong ",e)}))}},{key:"render",value:function(){var e=this,t=this.state.data.filter(this.searchTitle),a=Math.ceil(t.length/this.state.pageSize);0===a&&(a=1);var s=this.state.page<=1,i=this.state.page>=a;return Object(n.jsxs)("div",{className:"updateSessions",children:[Object(n.jsx)("div",{className:"adminSearch",children:Object(n.jsx)(M,{query:this.state.query,handleSearch:this.handleSearch})}),Object(n.jsx)(w,{loader:this.state.loading}),t.slice(this.state.pageSize*this.state.page-this.state.pageSize,this.state.pageSize*this.state.page).map((function(t,a){return Object(n.jsx)(L,{details:t,admin:e.props.admin,handleUpdateClick:e.props.handleUpdateClick},a)})),Object(n.jsx)(y,{page:this.state.page,noOfPages:" of "+a,disabledNext:i,disabledPrevious:s,handleNextClick:this.handleNextClick,handlePreviousClick:this.handlePreviousClick})]})}}]),a}(i.a.Component),H=function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).loginCallback=function(e){"200"===e.status?(n.setState(Object(E.a)({authenticated:!0,admin:e.admin,errormsg:"Log in Successful, Welcome"},"admin",e.admin)),localStorage.setItem("myToken",e.token),localStorage.setItem("Admin",e.admin)):n.setState({errormsg:"Incorrect Credentials, Try Again"})},n.updateCallback=function(e,t){"200"==e.status?(n.setState({errormsg:"record updated!"}),alert("Title Updated to '"+t.title+"'"),window.location.reload()):"401"==e.status?(n.setState({errormsg:"You are not authorised to update titles"}),n.setState({authenticated:!1,admin:""}),localStorage.removeItem("myToken"),localStorage.removeItem("Admin")):(n.setState({authenticated:!1,admin:""}),localStorage.removeItem("myToken"),localStorage.removeItem("Admin"),n.setState({errormsg:"Token expired, you have been logged out"}))},n.signUpCallback=function(e){"200"==e.status?n.setState({errormsg:"new user created! try loggin in"}):"500"==e.status?n.setState({errormsg:"Account alreay exists, try a diferent name and email"}):n.setState({errormsg:"Error singing up, try different credentials"})},n.postData=function(e,t,a){fetch(e,{method:"POST",headers:new Headers,body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){a(e,t)})).catch((function(e){console.log("something went wrong ",e),console.log(JSON.stringify(t)),n.setState({errormsg:"Error fetching data"})}))},n.handleLoginClick=function(){var e={email:n.state.email,password:n.state.password};""!==n.state.email&&""!==n.state.password||n.setState({email:null,password:null}),n.postData("http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/login",e,n.loginCallback)},n.handleLogoutClick=function(){localStorage.removeItem("myToken"),localStorage.removeItem("Admin"),n.setState({authenticated:!1,admin:"",errormsg:"You have logged out"}),n.setState({email:null,password:null})},n.handleUpdateClick=function(e,t){if(localStorage.getItem("myToken")){var a={token:localStorage.getItem("myToken"),sessionId:e,title:t};n.postData("http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/update",a,n.updateCallback)}else n.setState({errormsg:"Error authenticating, record not updated"})},n.handleSignUpClick=function(e,t,a){var s={username:n.state.SignUpName,email:n.state.SignUpEmail,password:n.state.SignUpPassword};n.postData("http://unn-w16017590.newnumyspace.co.uk/kf6012/part1/api/adduser",s,n.signUpCallback)},n.handlePassword=function(e){n.setState({password:e.target.value})},n.handleEmail=function(e){n.setState({email:e.target.value})},n.handleSignUpName=function(e){n.setState({SignUpName:e.target.value})},n.handleSignUpEmail=function(e){n.setState({SignUpEmail:e.target.value})},n.handleSignUpPassword=function(e){n.setState({SignUpPassword:e.target.value})},n.state={authenticated:!1,email:"",password:"",errormsg:"",admin:"",SignUpName:"",SignUpEmail:"",SignUpPassword:""},n.handleEmail=n.handleEmail.bind(Object(u.a)(n)),n.handlePassword=n.handlePassword.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("myToken")&&this.setState({authenticated:!0}),localStorage.getItem("Admin")&&this.setState({admin:localStorage.getItem("Admin")})}},{key:"render",value:function(){var e=Object(n.jsx)(T,{handleLoginClick:this.handleLoginClick,email:this.state.email,password:this.props.password,handleSignUpClick:this.handleSignUpClick,SignUpName:this.state.SignUpName,SignUpEmail:this.state.SignUpEmail,SignUpPassword:this.state.SignUpPassword,handleEmail:this.handleEmail,handlePassword:this.handlePassword,handleSignUpName:this.handleSignUpName,handleSignUpEmail:this.handleSignUpEmail,handleSignUpPassword:this.handleSignUpPassword});return this.state.authenticated&&(e=Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{className:"LogOutButton",onClick:this.handleLogoutClick,children:"Log out"}),Object(n.jsx)(B,{handleUpdateClick:this.handleUpdateClick,admin:this.state.admin})]})),Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Admin"}),Object(n.jsx)("p",{children:this.state.errormsg}),e]})}}]),a}(i.a.Component);var q=function(){return Object(n.jsx)(o.a,{basename:"/kf6012/part2",children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(g,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",children:Object(n.jsx)(I,{})}),Object(n.jsx)(l.a,{path:"/authors",children:Object(n.jsx)(C,{})}),Object(n.jsx)(l.a,{path:"/admin",children:Object(n.jsx)(H,{})}),Object(n.jsx)(l.a,{path:"*",children:Object(n.jsx)(N,{})})]})]})})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,50)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(q,{})}),document.getElementById("root")),W()}},[[49,1,2]]]);
//# sourceMappingURL=main.07159b1b.chunk.js.map